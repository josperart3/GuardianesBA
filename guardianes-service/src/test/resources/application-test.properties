# Configuraci�n espec�fica para tests de integraci�n
# Base de datos H2 en memoria - configuraci�n simple para evitar problemas
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=password

# JPA/Hibernate para H2
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
# Configuraciones espec�ficas para H2 para asegurar correcta creaci�n del esquema
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true
spring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults=false
spring.jpa.properties.hibernate.hbm2ddl.auto=create-drop
spring.jpa.properties.hibernate.id.new_generator_mappings=true
# Configuraciones adicionales para H2 y generaci�n de IDs
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect
spring.jpa.properties.hibernate.id.db_structure_naming_strategy=single
spring.jpa.properties.hibernate.globally_quoted_identifiers=false
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
# Configuraci�n de inicializaci�n de esquema - let Hibernate handle table creation
spring.jpa.defer-datasource-initialization=false
spring.jpa.generate-ddl=true
spring.sql.init.mode=never
#banner
spring.banner.location=classpath:banner.txt
# Desactivar jBPM para tests (esto es clave)
#jbpm.enabled=false
#spring.jbpm.enabled=false
# Desactivar KIE Server para tests
#jbpm configuration
jbpm.executor.enabled=false
#kie server capabilities
kieserver.drools.enabled=false
kieserver.dmn.enabled=false
kieserver.jbpm.enabled=false
kieserver.jbpmui.enabled=false
kieserver.casemgmt.enabled=false
#kieserver.controllers=

#Valores por defecto
guardianes.porDefecto.numeroMinimosDeTurnosPorDia = 2
guardianes.porDefecto.numeroMinimosdeConsultasPorDia = 0

#Datos de entrada de las tareas
guardianes.jbpm.validarPlanificacion.inputContent = Id_planificacion_provisional
#server configuration
server.address=0.0.0.0
server.port=8090

cxf.path=/rest
kieserver.restContextPath=/rest
system.properties.org.kie.server.bypass.auth.user=true
system.properties.org.kie.server.pwd=guardianes
system.properties.org.kie.server.user=guardianes
system.properties.org.kie.server.timeout=48000
# H2 Console para debugging
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# Logging para debugging
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.level.org.springframework.orm.jpa=DEBUG


# Desactivar componentes problem�ticos para tests

  #Propiedades Scheduler
# scheduler represents the files needed to start the scheduler
# Maximum number of minutes to wait for the scheduler to finish (int)
scheduler.timeout= 5
scheduler.command = python
scheduler.entryPoint = ../guardianes-scheduler/src/main.py
# This is an optional argument that will be passed to the scheduler.
# E.g. --configDir=/etc/guardians/scheduler
# If left blank, the argument will not be passed to the scheduler
scheduler.arg.configDir =
scheduler.file.doctors = ../guardianes-scheduler/doctors.json
scheduler.file.shiftConfs = ../guardianes-scheduler/shiftConfs.json
scheduler.file.calendar = ../guardianes-scheduler/calendar.json
scheduler.file.schedule = ../guardianes-scheduler/schedule.json
scheduler.file.outputRedirection = NUL
#Calendar Properties
calendario.user = josrodmor11
calendario.psw = josrodmor11
calendario.tipo.cycle = Jornadas Complementarias
calendario.tipo.consultation = Consulta
calendario.tipo.shifts = Continuidades Asistenciales
calendario.uri = http://localhost:8080/caldav.php/josrodmor11/guardias
#email Properties
email.host = smtp.zoho.eu
email.login = calendarioguardianes@zohomail.eu
email.password = M:#):h8='9_DDsi
email.asunto = Calendario Personal
email.mensaje = Este es su calendario personal del mes. Puede importarlo a su servicio de calendario preferido.

#Config mensajes
spring.messages.basename=messages
spring.messages.encoding=UTF-8

#Config seguridad
usuario.administrativo.nombre=jose
usuario.administrativo.contrasena=jose
usuario.gestor.nombre=maria
usuario.gestor.contrasena=maria